<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<script src="../bower_components/page/page.js"></script>
<script>
  // Routes
  page('/', function() {
    // Default to art/list section
    page('/art/list');
  });

  page('/:category/:pageType', function(data) {
    var category = data.params.category;
    var pageType = data.params.pageType;

    if (pageType === 'list') {
      console.log('importing list elements');
      Polymer.Base.importHref(
        '/elements/article-list.html',
        function() {
          console.log('import success!', arguments);
          app.category = category;
          app.pageType = pageType;
        },
        function() {
          console.log('import failed!', arguments);
        }
      );
    } else if (pageType == 'detail') {
      Polymer.Base.importHref(
        '/elements/article-detail.html',
        function() {
          console.log('import success!', arguments);
          app.category = category;
          app.pageType = pageType;
        },
        function() {
          console.log('import failed!', arguments);
        }
      );
    }
  });

  // add #! before urls
  page({
    hashbang: true
  });
</script>
