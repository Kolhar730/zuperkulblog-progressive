<!--
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--

 What this demo demonstrates:

 - Phase 1: index.html loads with top-level app structure and enough styling
            to get non-upgraded elements into place. This is your app shell.

 - Phase 2: critical.html loads async, carrying just Polymer and `my-app`
            definition.  `my-app` is a body type extension that implements
            Polymer.LightDomBindingBehavior, which scans its light-DOM template
            for bindings (rather than a template).  At this point, my-app
            upgrades and can poke any data brought in the critical section into
            its template, and definitions for non-critical elements are
            async lazy-loaded.

 - Phase 3: elements.html loads async, carrying remaining element definitions
            `x-produces` and `x-consumes`.  These elements upgrade and are
            late-bound to any host data and can participate in normal
            binding with the host.

  Throttle the loading speed in the devtools Network panel to ~"Good 3G" to
  get a nice view of the 3 phases.

-->

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>Zuperk&uuml;lblog</title>

  <!-- Chrome for Android theme color -->
  <meta name="theme-color" content="#FFFFFF">

  <!-- Web Application Manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Tile color for Win8 -->
  <meta name="msapplication-TileColor" content="#497886">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Zuperk&uuml;lblog">
  <link rel="icon" sizes="192x192" href="/images/touch/chrome-touch-icon-192x192.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Zuperk&uuml;lblog">
  <link rel="apple-touch-icon" href="/images/touch/apple-touch-icon.png">

  <!-- Tile icon for Win8 (144x144) -->
  <meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">

  <!-- Phase 2: Async load Polymer & critical elements (just my-app) -->
  <!-- <link rel="import" id="bundle" href="/elements/critical.html" async> -->

  <style>
    body {
      margin: 0;
      font-family: 'Roboto', 'Noto', 'Helvetica', sans-serif;
      background-color: #fafafa;
    }

    app-header-layout[drawer]:unresolved {
      position: fixed;
      top: 0;
      right: auto;
      bottom: 0;
      left: 0;
      background-color: #404040;
      width: 288px;
    }

    app-header-layout[main]:unresolved > app-header:unresolved {
      display: block;
      position: fixed;
      top: 0;
      right: 0;
      z-index: 1;
      border-bottom: 1px solid #ddd;
      background-color: #fff;
      color: #444;
      transform: translate3d(0px, 0px, 0px);
      left: 288px;
    }

    app-toolbar:unresolved {
      height: 64px;
      padding: 0 16px;
      position: relative;
      pointer-events: none;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;
      -ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
      -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
      font-size: 20px;
    }

    .title {
      padding-bottom: 40px;
      font-size: 60px;
      font-weight: 800;
    }

    #navTitle {
      display: none;
    }

    iron-selector.nav-menu:unresolved > a {
      display: block;
      padding: 12px 16px;
      font-size: 20px;
      font-weight: 500;
      text-decoration: none;
      color: #FFF;
    }

    iron-selector.nav-menu:unresolved > a.iron-selected {
      background-color: #888;
    }

    @media (max-width: 1280px) {
      app-header-layout[drawer]:unresolved {
        display: none;
      }

      app-header-layout[main]:unresolved > app-header:unresolved {
        left: 0;
      }
    }

    @media (max-width: 580px) {
      /* make title smaller to fit on screen */
      .title {
        font-size: 40px;
        padding-bottom: 16px;
      }
    }
  </style>

</head>

<!--
  If my-app didn't need event handlers, default data, computed functions,
  etc. and only needed binding ala dom-bind, it could just use is="body-bind",
  which is a no-frills implementation of Polymer.LightDomBindingBehavior.
  Since we do, using the behavior on a `body` Custom Element type extension
  allows us to write the top-level app element idiomatically using all the
  features of a normal element.
-->
<!-- <body is="body-bind"> -->
<body is="my-app">

  <!-- Phase 1: This stuff renders with above provided document styles -->
  <!-- `my-app` won't be upgraded until Phase 2 -->

  <app-drawer-layout id="drawerLayout" drawer-width="288px" responsive-width="1280px" on-iron-resize="_positionNavTitle">

    <!-- nav panel -->
    <app-header-layout drawer has-scrolling-region>

      <app-header fixed>

        <!-- top toolbar -->
        <app-toolbar></app-toolbar>

        <!-- bottom toolbar -->
        <app-toolbar>
          <div id="navTitle" class="title">ZUPERK&Uuml;LBLOG</div>
        </app-toolbar>

      </app-header>

      <!-- nav menu -->
      <iron-selector class="nav-menu" selected="[[category]]" attr-for-selected="name" activate-event="click">
        <a name="art" href="/art/list">Art</a>
        <a name="film" href="/film/list">Film</a>
        <a name="photography" href="/photography/list">Photography</a>
        <a name="design" href="/design/list">Design</a>
        <a name="topten" href="/topten/list">Top Ten</a>
        <a name="aday" href="/aday/list">A Day in the Life</a>
      </iron-selector>

      <!-- <div class="push-opt-in">
        <span class="flex" id="toggle-label">Notify Me of <br>New Content</span>
        <paper-toggle-button id="toggle" aria-labelledby="toggle-label"
            toggles checked="{{pushEnabled}}">
        </paper-toggle-button>
      </div> -->

    </app-header-layout>

    <!-- main panel -->
    <app-header-layout main>

      <app-header fixed waterfall>

        <!-- top toolbar -->
        <app-toolbar>
          <!-- menu button -->
          <paper-icon-button icon="app:menu" drawer-toggle hidden$="[[_equal(page, 'detail')]]" aria-label="menu"></paper-icon-button>
          <!-- back button -->
          <a href="/[[category]]/list" hidden$="[[_equal(page, 'list', 'no-contents')]]" aria-label="back">
            <paper-icon-button icon="app:arrow-back"></paper-icon-button>
          </a>
        </app-toolbar>

        <!-- bottom toolbar -->
        <app-toolbar class="main-title-toolbar">
          <div id="mainTitle" class="title">ZUPERK&Uuml;LBLOG</div>
        </app-toolbar>

      </app-header>

      <iron-pages selected="[[page]]" attr-for-selected="name">

        <!-- list page -->
        <section name="list" class="iron-selected">
          <two-columns-grid column-width="396" gutter="4">
            <template is="dom-repeat" items="[[articles]]">
              <a is="article-headline" href="/[[category]]/detail/[[item.slug]]" article="[[item]]"></a>
            </template>
          </two-columns-grid>
        </section>

        <!-- detail page -->
        <section name="detail">
          <article-detail article="[[article]]"></article-detail>
        </section>

        <!-- no contents page -->
        <section name="no-contents" class="no-contents">
          We don't have any articles for this section yet. <br>We're working on it!
        </section>

      </iron-pages>

    </app-header-layout>

  </app-drawer-layout>

  <!-- Service workers are great but make developing a pain in the butt. Uncomment
       when you've got the site looking how you want it. -->

  <!-- <platinum-sw-register auto-register
                        clients-claim
                        skip-waiting
                        href="/sw-import.js">
    <platinum-sw-cache default-cache-strategy="fastest"
                       cache-config-file="/cache-config.json">
    </platinum-sw-cache>
  </platinum-sw-register> -->

  <!-- build:js /scripts/app.js async -->
  <script src="/bower_components/page/page.js"></script>
  <script src="/scripts/app.js"></script>
  <!-- endbuild-->

</body>

</html>
